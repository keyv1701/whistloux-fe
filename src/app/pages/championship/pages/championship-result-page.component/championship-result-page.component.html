<div class="championship-result-container">
  <div class="header">
    <h1>Résultats mensuels du championnat</h1>

    <div class="actions">
      <div class="filters">
        <label for="seasonSelect">Saison:</label>
        <select id="seasonSelect" [(ngModel)]="selectedSeason" (change)="onSeasonChange(selectedSeason)">
          <option *ngFor="let season of seasons" [value]="season">{{ season }}</option>
        </select>

        <label for="monthSelect">Mois:</label>
        <select id="monthSelect" [(ngModel)]="selectedMonth" (change)="onMonthChange(selectedMonth)">
          <option *ngFor="let month of months" [value]="month.value">{{ month.name }}</option>
        </select>
      </div>
    </div>
  </div>

  <ng-container *ngIf="loading$ | async; else content">
    <div class="loading-indicator">
      Chargement des résultats...
    </div>
  </ng-container>

  <ng-template #content>
    <!-- Affichage du classement mensuel -->
    <div class="rankings-table" *ngIf="(monthlyRankings$ | async)?.length; else emptyMonthly">
      <table>
        <thead>
        <tr>
          <th>Position</th>
          <th>Joueur</th>
          <th>Score total</th>
          <th>Manches jouées</th>
          <th>Meilleurs scores</th>
          <th>Plus mauvais score</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let player of monthlyRankings$ | async">
          <td>{{ player.rank }}</td>
          <td>{{ player.playerName }}</td>
          <td>{{ player.totalScore }}</td>
          <td>{{ player.roundsPlayed }}</td>
          <td>{{ player.bestRoundScores.join(', ') }}</td>
          <td>{{ player.worstRoundScore }}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <ng-template #emptyMonthly>
      <div class="empty-state">
        Aucun classement disponible pour {{ months[selectedMonth - 1].name }} {{ selectedSeason }}.
      </div>
    </ng-template>
  </ng-template>
</div>
