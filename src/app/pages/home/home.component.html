<section class="py-4 md:py-8">
  <div class="page-container">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-4 md:mb-8">{{ 'home.club.title' | translate }}</h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
      <div class="card bg-white rounded-lg shadow-md p-4 sm:p-6 text-center">
        <div class="rounded-full bg-whist-primary p-3 md:p-4 inline-flex mb-3 md:mb-4 text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10" fill="none" viewBox="0 0 24 24"
               stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
          </svg>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.club.weeklyChampionship.title' | translate }}</h3>
        <p class="text-gray-600 text-sm md:text-base">{{ 'home.club.weeklyChampionship.description' | translate }}</p>
        <a href="/championship"
           class="mt-3 text-whist-secondary hover:underline font-medium inline-block text-sm md:text-base">
          {{ 'home.club.weeklyChampionship.cta' | translate }}
        </a>
      </div>

      <div class="card bg-white rounded-lg shadow-md p-4 sm:p-6 text-center">
        <div class="rounded-full bg-whist-secondary p-3 md:p-4 inline-flex mb-3 md:mb-4 text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10" fill="none" viewBox="0 0 24 24"
               stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.club.tournaments.title' | translate }}</h3>
        <p class="text-gray-600 text-sm md:text-base">{{ 'home.club.tournaments.description' | translate }}</p>
        <a href="/tournaments"
           class="mt-3 text-whist-secondary hover:underline font-medium inline-block text-sm md:text-base">
          {{ 'home.club.tournaments.cta' | translate }}
        </a>
      </div>

      <div class="card bg-white rounded-lg shadow-md p-4 sm:p-6 text-center">
        <div class="rounded-full bg-whist-accent p-3 md:p-4 inline-flex mb-3 md:mb-4 text-white">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10" fill="none" viewBox="0 0 24 24"
               stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
        </div>
        <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.club.bidsRanking.title' | translate }}</h3>
        <p class="text-gray-600 text-sm md:text-base">{{ 'home.club.bidsRanking.description' | translate }}</p>
        <a href="/whist-bids"
           class="mt-3 text-whist-secondary hover:underline font-medium inline-block text-sm md:text-base">
          {{ 'home.club.bidsRanking.cta' | translate }}
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Slider de Galerie -->
<section class="bg-gray-100 py-4 md:py-8">
  <div class="page-container">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-4 md:mb-8">{{ 'home.gallery.title' | translate }}</h2>

    <div class="gallery-slider-container relative mb-6">
      <!-- Loading indicator -->
      @if (loading$ | async) {
        <div class="flex justify-center py-8">
          <div class="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"></div>
        </div>
      }

      <!-- Photos slider -->
      @if (recentPhotos.length > 0) {
        <div class="gallery-slider relative overflow-hidden rounded-lg shadow-md">
          <div class="gallery-slider-track flex transition-transform duration-500"
               [style.transform]="'translateX(' + sliderPosition + '%)'">
            @for (photo of recentPhotos; track photo.id) {
              <div class="gallery-slide min-w-full md:min-w-[50%] lg:min-w-[33.333%] p-2">
                <div class="relative group h-64 overflow-hidden rounded-lg cursor-pointer"
                     (click)="navigateToGallery()">
                  <img [src]="photo.url" [alt]="photo.name"
                       class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                  @if (photo.description) {
                    <div
                      class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white p-3 transform translate-y-full transition-transform duration-300 group-hover:translate-y-0">
                      <p class="text-sm">{{ photo.description }}</p>
                    </div>
                  }
                </div>
              </div>
            }
          </div>

          <!-- Navigation buttons -->
          <button
            class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-2 hover:bg-opacity-90 focus:outline-none z-10 shadow-md"
            (click)="moveSlider(-1)"
            *ngIf="recentPhotos.length > slidesToShow">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>

          <button
            class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-70 rounded-full p-2 hover:bg-opacity-90 focus:outline-none z-10 shadow-md"
            (click)="moveSlider(1)"
            *ngIf="recentPhotos.length > slidesToShow">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </div>

        <!-- Dots navigation -->
        <div class="flex justify-center mt-4">
          @for (dot of getDots(); track $index) {
            <button
              class="w-3 h-3 rounded-full mx-1 focus:outline-none"
              [class.bg-whist-primary]="currentSlide === $index"
              [class.bg-gray-300]="currentSlide !== $index"
              (click)="goToSlide($index)">
            </button>
          }
        </div>
      }

      <!-- Message si aucune photo -->
      @if (recentPhotos.length === 0 && !(loading$ | async)) {
        <div class="text-center py-8 text-gray-500">
          {{ 'home.gallery.noPhotos' | translate }}
        </div>
      }
    </div>

    <div class="text-center">
      <a routerLink="/gallery"
         class="inline-flex items-center px-6 py-3 bg-whist-primary text-white font-medium rounded-lg hover:bg-whist-primary/90 transition-colors">
        {{ 'home.gallery.viewMore' | translate }}
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24"
             stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- Rejoingez notre communautÃ© -->
<section class="py-4 md:py-8">
  <div class="page-container">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-4 md:mb-8">{{ 'home.community.title' | translate }}</h2>
    <p class="text-center text-base md:text-lg mb-6 md:mb-8">{{ 'home.community.subtitle' | translate }}</p>

    <div class="flex justify-center">
      <a href="https://www.facebook.com/groups/117508751983577/" target="_blank"
         class="flex items-center bg-blue-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-lg hover:bg-blue-700 transition-colors text-sm md:text-base">
        <svg class="w-5 h-5 md:w-6 md:h-6 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path fill-rule="evenodd"
                d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                clip-rule="evenodd"></path>
        </svg>
        {{ 'home.community.cta' | translate }}
      </a>
    </div>
  </div>
</section>

<section class="bg-gray-100 py-4 md:py-8">
  <div class="page-container">
    <h2 class="text-2xl md:text-3xl font-bold text-center mb-4 md:mb-8">{{ 'home.advantages.title' | translate }}</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
      <div class="card bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col md:flex-row md:items-start">
        <div class="text-whist-primary mx-auto md:mx-0 md:mr-4 mb-3 md:mb-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <div class="text-center md:text-left">
          <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.advantages.access.title' | translate }}</h3>
          <p class="text-gray-600 text-sm md:text-base">{{ 'home.advantages.access.description' | translate }}</p>
        </div>
      </div>

      <div class="card bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col md:flex-row md:items-start">
        <div class="text-whist-primary mx-auto md:mx-0 md:mr-4 mb-3 md:mb-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
          </svg>
        </div>
        <div class="text-center md:text-left">
          <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.advantages.tips.title' | translate }}</h3>
          <p class="text-gray-600 text-sm md:text-base">{{ 'home.advantages.tips.description' | translate }}</p>
        </div>
      </div>

      <div class="card bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col md:flex-row md:items-start">
        <div class="text-whist-primary mx-auto md:mx-0 md:mr-4 mb-3 md:mb-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>
        <div class="text-center md:text-left">
          <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.advantages.atmosphere.title' | translate }}</h3>
          <p class="text-gray-600 text-sm md:text-base">{{ 'home.advantages.atmosphere.description' | translate }}</p>
        </div>
      </div>

      <div class="card bg-white rounded-lg shadow-sm p-4 sm:p-6 flex flex-col md:flex-row md:items-start">
        <div class="text-whist-primary mx-auto md:mx-0 md:mr-4 mb-3 md:mb-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <div class="text-center md:text-left">
          <h3 class="text-lg md:text-xl font-bold mb-2">{{ 'home.advantages.pricing.title' | translate }}</h3>
          <p class="text-gray-600 text-sm md:text-base">{{ 'home.advantages.pricing.description' | translate }}</p>
        </div>
      </div>
    </div>
  </div>
</section>
